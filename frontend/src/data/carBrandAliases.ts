// Русские алиасы для марок автомобилей
// Маппинг: русское название -> английское название
export const carBrandAliases: Record<string, string> = {
  // Популярные марки
  'Тесла': 'Tesla',
  'Тесла Моторс': 'Tesla',
  'Тесла': 'Tesla',
  
  'Мерседес': 'Mercedes-Benz',
  'Мерседес-Бенц': 'Mercedes-Benz',
  'Мерседес Бенц': 'Mercedes-Benz',
  'Мерседес Бенс': 'Mercedes-Benz',
  
  'БМВ': 'BMW',
  'Би-Эм-Вэ': 'BMW',
  
  'Ауди': 'Audi',
  'Ауди': 'Audi',
  
  'Фольксваген': 'Volkswagen',
  'Фольксваг': 'Volkswagen',
  'Фольксваген': 'Volkswagen',
  
  'Тойота': 'Toyota',
  'Тойот': 'Toyota',
  
  'Ниссан': 'Nissan',
  'Нисан': 'Nissan',
  
  'Хонда': 'Honda',
  'Хонда': 'Honda',
  
  'Мазда': 'Mazda',
  'Мазд': 'Mazda',
  
  'Субару': 'Subaru',
  'Субару': 'Subaru',
  
  'Митсубиси': 'Mitsubishi',
  'Митсубиши': 'Mitsubishi',
  'Митсубиси': 'Mitsubishi',
  
  'Лексус': 'Lexus',
  'Лекс': 'Lexus',
  
  'Хёндай': 'Hyundai',
  'Хендай': 'Hyundai',
  'Хёндай': 'Hyundai',
  
  'Киа': 'Kia',
  'КИА': 'Kia',
  
  'Шкода': 'Skoda',
  'Шкод': 'Skoda',
  'Шкода': 'Skoda',
  
  'Пежо': 'Peugeot',
  'Пежо': 'Peugeot',
  
  'Рено': 'Renault',
  'Рено': 'Renault',
  
  'Ситроен': 'Citroen',
  'Ситроен': 'Citroen',
  'Ситроён': 'Citroën',
  
  'Опель': 'Opel',
  'Опел': 'Opel',
  
  'Форд': 'Ford',
  'Форд': 'Ford',
  
  'Шевроле': 'Chevrolet',
  'Шевроле': 'Chevrolet',
  'Шевроле': 'Chevrolet',
  
  'Додж': 'Dodge',
  'Додж': 'Dodge',
  
  'Джип': 'Jeep',
  'Джип': 'Jeep',
  
  'Лада': 'LADA',
  'Лада': 'LADA',
  'ВАЗ': 'ВАЗ',
  'Ваз': 'ВАЗ',
  
  'ГАЗ': 'ГАЗ',
  'Газ': 'ГАЗ',
  'Газель': 'Газель',
  
  'УАЗ': 'УАЗ',
  'Уаз': 'УАЗ',
  
  'Камаз': 'KamAZ',
  'КАМАЗ': 'КАМАЗ',
  'КамАЗ': 'KamAZ',
  
  'МАЗ': 'МАЗ',
  'Маз': 'МАЗ',
  
  'Порше': 'Porsche',
  'Порш': 'Porsche',
  
  'Феррари': 'Ferrari',
  'Феррари': 'Ferrari',
  
  'Ламборгини': 'Lamborghini',
  'Ламборгини': 'Lamborghini',
  
  'Бентли': 'Bentley',
  'Бентли': 'Bentley',
  
  'Роллс-Ройс': 'Rolls-Royce',
  'Роллс Ройс': 'Rolls-Royce',
  'Роллс-Ройс': 'Rolls-Royce',
  
  'Ягуар': 'Jaguar',
  'Ягуар': 'Jaguar',
  
  'Астон Мартин': 'Aston Martin',
  'Астон Мартин': 'Aston Martin',
  
  'Макларен': 'McLaren',
  'Макларен': 'McLaren',
  
  'Мазерати': 'Maserati',
  'Мазерати': 'Maserati',
  
  'Вольво': 'Volvo',
  'Вольв': 'Volvo',
  
  'Линкольн': 'Lincoln',
  'Линкольн': 'Lincoln',
  
  'Кадиллак': 'Cadillac',
  'Кадиллак': 'Cadillac',
  
  'Джи-Эм-Си': 'GMC',
  'GMC': 'GMC',
  
  'Хаммер': 'Hummer',
  'Хаммер': 'Hummer',
  
  'Москвич': 'Москвич',
  'Москвич': 'Москвич',
  
  'Генезис': 'Genesis',
  'Генезис': 'Genesis',
  
  'Инфинити': 'Infiniti',
  'Инфинити': 'Infiniti',
  
  'Акура': 'Acura',
  'Акура': 'Acura',
  
  'Ссанг-Йонг': 'SsangYong',
  'Ссанг Йонг': 'SsangYong',
  'Ссанг-Йонг': 'SsangYong',
  
  'Би-Уай-Ди': 'BYD',
  'BYD': 'BYD',
  
  'Чери': 'Chery',
  'Чери': 'Chery',
  
  'Гили': 'Geely',
  'Гили': 'Geely',
  
  'Хавейл': 'Haval',
  'Хавейл': 'Haval',
  
  'Грейт Волл': 'Great Wall',
  'Грейт Волл': 'Great Wall',
  
  'Лада ВАЗ': 'Lada (ВАЗ)',
  'Лада ВАЗ': 'Lada (ВАЗ)',
  
  'Альфа Ромео': 'Alfa Romeo',
  'Альфа Ромео': 'Alfa Romeo',
  
  'Фиат': 'Fiat',
  'Фиат': 'Fiat',
  
  'Сеат': 'SEAT',
  'SEAT': 'SEAT',
  
  'Дачия': 'Dacia',
  'Дачия': 'Dacia',
  
  'МГ': 'MG',
  'MG': 'MG',
  
  'Мини': 'Mini',
  'Мини': 'Mini',
  
  'Смарт': 'Smart',
  'Смарт': 'Smart',
  
  'Лотус': 'Lotus',
  'Лотус': 'Lotus',
  
  'Морган': 'Morgan',
  'Морган': 'Morgan',
  
  'Ровер': 'Rover',
  'Ровер': 'Rover',
  
  'Сааб': 'Saab',
  'Сааб': 'Saab',
  
  'Тата': 'Tata',
  'Тата': 'Tata',
  
  'Дэу': 'Daewoo',
  'Дэу': 'Daewoo',
  
  'Равон': 'Ravon',
  'Равон': 'Ravon',
  
  'Дацун': 'Datsun',
  'Дацун': 'Datsun',
  
  'Скания': 'Scania',
  'Скания': 'Scania',
  
  'Ивеко': 'Iveco',
  'Ивеко': 'Iveco',
  
  'МАН': 'MAN',
  'MAN': 'MAN',
  
  'Польстар': 'Polestar',
  'Польстар': 'Polestar',
  
  'Ривиан': 'Rivian',
  'Ривиан': 'Rivian',
  
  'Люсид': 'Lucid',
  'Люсид': 'Lucid',
  
  'Фискер': 'Fisker',
  'Фискер': 'Fisker',
  
  'Сяоми': 'Xiaomi',
  'Сяоми': 'Xiaomi',
  
  'Нио': 'Nio',
  'Нио': 'Nio',
  
  'Зикр': 'Zeekr',
  'Зикр': 'Zeekr',
  
  'Сюпен': 'Xpeng',
  'Сюпен': 'Xpeng',
};

// Функция для получения правильного названия марки по алиасу
export const getBrandByAlias = (input: string): string | null => {
  const normalized = input.trim();
  if (!normalized) return null;
  
  // Проверяем точное совпадение (без учета регистра)
  const lowerInput = normalized.toLowerCase();
  for (const [alias, brand] of Object.entries(carBrandAliases)) {
    if (alias.toLowerCase() === lowerInput) {
      return brand;
    }
  }
  
  return null;
};

// Функция для поиска марок по частичному совпадению (включая алиасы)
export const searchBrands = (query: string, brands: string[]): string[] => {
  const normalizedQuery = query.trim().toLowerCase();
  if (!normalizedQuery) return [];
  
  const results = new Set<string>();
  
  // Сначала проверяем алиасы
  for (const [alias, brand] of Object.entries(carBrandAliases)) {
    if (alias.toLowerCase().includes(normalizedQuery)) {
      results.add(brand);
    }
  }
  
  // Затем проверяем сами марки
  for (const brand of brands) {
    if (brand.toLowerCase().includes(normalizedQuery)) {
      results.add(brand);
    }
  }
  
  return Array.from(results).slice(0, 5); // Максимум 5 результатов
};

